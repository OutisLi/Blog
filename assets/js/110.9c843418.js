(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{472:function(e,r,t){"use strict";t.r(r);var o=t(14),n=Object(o.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"_03-ğŸ’½-åˆ¶ä½œè‡ªå·±çš„é•œåƒ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_03-ğŸ’½-åˆ¶ä½œè‡ªå·±çš„é•œåƒ"}},[e._v("#")]),e._v(" 03. ğŸ’½ åˆ¶ä½œè‡ªå·±çš„é•œåƒ")]),e._v(" "),r("h3",{attrs:{id:"ä¸ºè‡ªå·±çš„-web-é¡¹ç›®æ„å»ºé•œåƒ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºè‡ªå·±çš„-web-é¡¹ç›®æ„å»ºé•œåƒ"}},[e._v("#")]),e._v(" ä¸ºè‡ªå·±çš„ Web é¡¹ç›®æ„å»ºé•œåƒ")]),e._v(" "),r("p",[e._v("ç¤ºä¾‹é¡¹ç›®ä»£ç ï¼š"),r("a",{attrs:{href:"https://github.com/gzyunke/test-docker",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/gzyunke/test-docker"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("è¿™æ˜¯ä¸€ä¸ª Nodejs + Koa2 å†™çš„ Web é¡¹ç›®ï¼Œæä¾›äº†ç®€å•çš„ä¸¤ä¸ªæ¼”ç¤ºé¡µé¢ã€‚")]),e._v(" "),r("p",[e._v("è½¯ä»¶ä¾èµ–ï¼š"),r("a",{attrs:{href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("nodejs"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("é¡¹ç›®ä¾èµ–åº“ï¼škoaã€log4jsã€koa-router")]),e._v(" "),r("blockquote",[r("p",[e._v("æœ¬æ–‡æ¡£è¯¾ä»¶é…å¥— è§†é¢‘æ•™ç¨‹")])]),e._v(" "),r("h3",{attrs:{id:"ç¼–å†™-dockerfile"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–å†™-dockerfile"}},[e._v("#")]),e._v(" ç¼–å†™ Dockerfile")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("FROM node:11\nMAINTAINER easydoc.net\n\n# å¤åˆ¶ä»£ç \nADD . /app\n\n# è®¾ç½®å®¹å™¨å¯åŠ¨åçš„é»˜è®¤è¿è¡Œç›®å½•\nWORKDIR /app\n\n# è¿è¡Œå‘½ä»¤ï¼Œå®‰è£…ä¾èµ–\n# RUN å‘½ä»¤å¯ä»¥æœ‰å¤šä¸ªï¼Œä½†æ˜¯å¯ä»¥ç”¨ && è¿æ¥å¤šä¸ªå‘½ä»¤æ¥å‡å°‘å±‚çº§ã€‚\n# ä¾‹å¦‚ RUN npm install && cd /app && mkdir logs\nRUN npm install --registry=https://registry.npm.taobao.org\n\n# CMD æŒ‡ä»¤åªèƒ½ä¸€ä¸ªï¼Œæ˜¯å®¹å™¨å¯åŠ¨åæ‰§è¡Œçš„å‘½ä»¤ï¼Œç®—æ˜¯ç¨‹åºçš„å…¥å£ã€‚\n# å¦‚æœè¿˜éœ€è¦è¿è¡Œå…¶ä»–å‘½ä»¤å¯ä»¥ç”¨ && è¿æ¥ï¼Œä¹Ÿå¯ä»¥å†™æˆä¸€ä¸ªshellè„šæœ¬å»æ‰§è¡Œã€‚\n# ä¾‹å¦‚ CMD cd /app && ./start.sh\nCMD node app.js\n")])])]),r("p",[r("a",{attrs:{href:"https://docs.docker.com/engine/reference/builder/#run",target:"_blank",rel:"noopener noreferrer"}},[e._v("Dockerfileæ–‡æ¡£"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("p",[e._v("å®ç”¨æŠ€å·§ï¼š")]),e._v(" "),r("p",[e._v("å¦‚æœä½ å†™ Dockerfile æ—¶ç»å¸¸é‡åˆ°ä¸€äº›è¿è¡Œé”™è¯¯ï¼Œä¾èµ–é”™è¯¯ç­‰ï¼Œä½ å¯ä»¥ç›´æ¥è¿è¡Œä¸€ä¸ªä¾èµ–çš„åº•ï¼Œç„¶åè¿›å…¥ç»ˆç«¯è¿›è¡Œé…ç½®ç¯å¢ƒï¼ŒæˆåŠŸåå†æŠŠåšè¿‡çš„æ­¥éª¤å‘½ä»¤å†™é“ Dockerfile æ–‡ä»¶ä¸­ï¼Œè¿™æ ·ç¼–å†™è°ƒè¯•ä¼šå¿«å¾ˆå¤šã€‚")]),e._v(" "),r("p",[e._v("ä¾‹å¦‚ä¸Šé¢çš„åº•æ˜¯"),r("code",[e._v("node:11")]),e._v("ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œ"),r("code",[e._v("docker run -it -d node:11 bash")]),e._v("ï¼Œè·‘èµ·æ¥åè¿›å…¥å®¹å™¨ç»ˆç«¯é…ç½®ä¾èµ–çš„è½¯ä»¶ï¼Œç„¶åå°è¯•è·‘èµ·æ¥è‡ªå·±çš„è½¯ä»¶ï¼Œæœ€åæŠŠæ‰€æœ‰åšè¿‡çš„æ­¥éª¤å†™å…¥åˆ° Dockerfile å°±å¥½äº†ã€‚")]),e._v(" "),r("p",[e._v("æŒæ¡å¥½è¿™ä¸ªæŠ€å·§ï¼Œä½ çš„ Dockerfile æ–‡ä»¶ç¼–å†™èµ·æ¥å°±éå¸¸çš„å¾—å¿ƒåº”æ‰‹äº†ã€‚")])]),e._v(" "),r("h3",{attrs:{id:"build-ä¸ºé•œåƒ-å®‰è£…åŒ…-å’Œè¿è¡Œ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#build-ä¸ºé•œåƒ-å®‰è£…åŒ…-å’Œè¿è¡Œ"}},[e._v("#")]),e._v(" Build ä¸ºé•œåƒï¼ˆå®‰è£…åŒ…ï¼‰å’Œè¿è¡Œ")]),e._v(" "),r("p",[e._v("ç¼–è¯‘ "),r("code",[e._v("docker build -t test:v1 .")])]),e._v(" "),r("blockquote",[r("p",[e._v("-t è®¾ç½®é•œåƒåå­—å’Œç‰ˆæœ¬å·")]),e._v(" "),r("p",[e._v("å‘½ä»¤å‚è€ƒï¼š"),r("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/build/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/engine/reference/commandline/build/"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("è¿è¡Œ "),r("code",[e._v("docker run -p 8080:8080 --name test-hello test:v1")])]),e._v(" "),r("blockquote",[r("p",[e._v("-p æ˜ å°„å®¹å™¨å†…ç«¯å£åˆ°å®¿ä¸»æœº")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("-name")]),e._v(" å®¹å™¨åå­—")]),e._v(" "),r("li",[r("code",[e._v("d")]),e._v(" åå°è¿è¡Œ")])]),e._v(" "),r("p",[e._v("å‘½ä»¤å‚è€ƒæ–‡æ¡£ï¼š"),r("a",{attrs:{href:"https://docs.docker.com/engine/reference/run/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/engine/reference/run/"),r("OutboundLink")],1)])]),e._v(" "),r("h3",{attrs:{id:"æ›´å¤šç›¸å…³å‘½ä»¤"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ›´å¤šç›¸å…³å‘½ä»¤"}},[e._v("#")]),e._v(" æ›´å¤šç›¸å…³å‘½ä»¤")]),e._v(" "),r("p",[r("code",[e._v("docker ps")]),e._v(" æŸ¥çœ‹å½“å‰è¿è¡Œä¸­çš„å®¹å™¨")]),e._v(" "),r("p",[r("code",[e._v("docker images")]),e._v(" æŸ¥çœ‹é•œåƒåˆ—è¡¨")]),e._v(" "),r("p",[r("code",[e._v("docker rm container-id")]),e._v(" åˆ é™¤æŒ‡å®š id çš„å®¹å™¨")]),e._v(" "),r("p",[r("code",[e._v("docker stop/start container-id")]),e._v(" åœæ­¢/å¯åŠ¨æŒ‡å®š id çš„å®¹å™¨")]),e._v(" "),r("p",[r("code",[e._v("docker rmi image-id")]),e._v(" åˆ é™¤æŒ‡å®š id çš„é•œåƒ")]),e._v(" "),r("p",[r("code",[e._v("docker volume ls")]),e._v(" æŸ¥çœ‹ volume åˆ—è¡¨")]),e._v(" "),r("p",[r("code",[e._v("docker network ls")]),e._v(" æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨")])])}),[],!1,null,null,null);r.default=n.exports}}]);
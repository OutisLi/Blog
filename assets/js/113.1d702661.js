(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{477:function(e,t,s){"use strict";s.r(t);var r=s(14),a=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_07-🚚-发布和部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_07-🚚-发布和部署"}},[e._v("#")]),e._v(" 07. 🚚 发布和部署")]),e._v(" "),t("h1",{attrs:{id:"🚚-发布和部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#🚚-发布和部署"}},[e._v("#")]),e._v(" 🚚 发布和部署")]),e._v(" "),t("h3",{attrs:{id:"镜像仓库介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像仓库介绍"}},[e._v("#")]),e._v(" 镜像仓库介绍")]),e._v(" "),t("p",[e._v("镜像仓库用来存储我们 build 出来的“安装包”，Docker 官方提供了一个 "),t("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("镜像库"),t("OutboundLink")],1),e._v("，里面包含了大量镜像，基本各种软件所需依赖都有，要什么直接上去搜索。")]),e._v(" "),t("p",[e._v("我们也可以把自己 build 出来的镜像上传到 docker 提供的镜像库中，方便传播。")]),e._v(" "),t("p",[e._v("当然你也可以搭建自己的私有镜像库，或者使用国内各种大厂提供的镜像托管服务，例如：阿里云、腾讯云")]),e._v(" "),t("blockquote",[t("p",[e._v("本文档课件配套 视频教程")])]),e._v(" "),t("h3",{attrs:{id:"上传我们的镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传我们的镜像"}},[e._v("#")]),e._v(" 上传我们的镜像")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("首先你要先 "),t("a",{attrs:{href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("注册一个账号"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[e._v("创建一个镜像库")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cos.easydoc.net/46901064/files/kv9a2wty.png",alt:"https://cos.easydoc.net/46901064/files/kv9a2wty.png"}})])]),e._v(" "),t("li",[t("p",[e._v("命令行登录账号："),t("code",[e._v("docker login -u username")])])]),e._v(" "),t("li",[t("p",[e._v("新建一个tag，名字必须跟你注册账号一样"),t("code",[e._v("docker tag test:v1 username/test:v1")])])]),e._v(" "),t("li",[t("p",[e._v("推上去"),t("code",[e._v("docker push username/test:v1")])])]),e._v(" "),t("li",[t("p",[e._v("部署试下"),t("code",[e._v("docker run -dp 8080:8080 username/test:v1")])])])]),e._v(" "),t("h3",{attrs:{id:"docker-compose-中也可以直接用这个镜像了"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-中也可以直接用这个镜像了"}},[e._v("#")]),e._v(" docker-compose 中也可以直接用这个镜像了")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('version: "3.7"\n\nservices:\n  app:\n#    build: ./\n    image: helloguguji/test:v1\n    ports:\n      - 80:8080\n    volumes:\n      - ./:/app\n    environment:\n      - TZ=Asia/Shanghai\n  redis:\n    image: redis:5.0.13\n    volumes:\n      - redis:/data\n    environment:\n      - TZ=Asia/Shanghai\n\nvolumes:\n  redis:\n')])])]),t("h3",{attrs:{id:"阿里云容器托管"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里云容器托管"}},[e._v("#")]),e._v(" 阿里云容器托管")]),e._v(" "),t("p",[e._v("docker 官方的镜像托管有时候上传和下载都太慢了，如果你想要更快的速度，可以使用阿里云的免费镜像托管")]),e._v(" "),t("p",[e._v("登录 "),t("a",{attrs:{href:"https://www.aliyun.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("阿里云"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cos.easydoc.net/46901064/files/kv9dqxuo.png",alt:"https://cos.easydoc.net/46901064/files/kv9dqxuo.png"}})])])}),[],!1,null,null,null);t.default=a.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{476:function(e,t,r){"use strict";r.r(t);var s=r(14),a=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_05-👨‍👦‍👦-多容器通信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_05-👨‍👦‍👦-多容器通信"}},[e._v("#")]),e._v(" 05. 👨‍👦‍👦 多容器通信")]),e._v(" "),t("h3",{attrs:{id:"学习目标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#学习目标"}},[e._v("#")]),e._v(" 学习目标")]),e._v(" "),t("p",[e._v("项目往往都不是独立运行的，需要数据库、缓存这些东西配合运作。")]),e._v(" "),t("p",[e._v("这节我们把前面的 Web 项目增加一个 Redis 依赖，多跑一个 Redis 容器，演示如何多容器之间的通信。")]),e._v(" "),t("blockquote",[t("p",[e._v("本文档课件配套 视频教程")])]),e._v(" "),t("h3",{attrs:{id:"创建虚拟网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建虚拟网络"}},[e._v("#")]),e._v(" 创建虚拟网络")]),e._v(" "),t("p",[e._v("要想多容器之间互通，从 Web 容器访问 Redis 容器，我们只需要把他们放到同个网络中就可以了。")]),e._v(" "),t("p",[e._v("文档参考："),t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/network/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.docker.com/engine/reference/commandline/network/"),t("OutboundLink")],1)]),e._v(" "),t("h3",{attrs:{id:"演示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#演示"}},[e._v("#")]),e._v(" 演示")]),e._v(" "),t("h3",{attrs:{id:"创建一个名为test-net的网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个名为test-net的网络"}},[e._v("#")]),e._v(" 创建一个名为"),t("code",[e._v("test-net")]),e._v("的网络：")]),e._v(" "),t("p",[t("code",[e._v("docker network create test-net")])]),e._v(" "),t("h3",{attrs:{id:"运行-redis-在-test-net-网络中-别名redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行-redis-在-test-net-网络中-别名redis"}},[e._v("#")]),e._v(" 运行 Redis 在 "),t("code",[e._v("test-net")]),e._v(" 网络中，别名"),t("code",[e._v("redis")])]),e._v(" "),t("p",[t("code",[e._v("docker run -d --name redis --network test-net --network-alias redis redis:latest")])]),e._v(" "),t("h3",{attrs:{id:"修改代码中访问redis的地址为网络别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改代码中访问redis的地址为网络别名"}},[e._v("#")]),e._v(" 修改代码中访问"),t("code",[e._v("redis")]),e._v("的地址为网络别名")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cos.easydoc.net/46901064/files/kv98rfvb.png",alt:"https://cos.easydoc.net/46901064/files/kv98rfvb.png"}})]),e._v(" "),t("h3",{attrs:{id:"运行-web-项目-使用同个网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行-web-项目-使用同个网络"}},[e._v("#")]),e._v(" 运行 Web 项目，使用同个网络")]),e._v(" "),t("p",[t("code",[e._v("docker run -p 8080:8080 --name test -v D:/test:/app --network test-net -d test:v1")])]),e._v(" "),t("h3",{attrs:{id:"查看数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看数据"}},[e._v("#")]),e._v(" 查看数据")]),e._v(" "),t("p",[t("code",[e._v("http://localhost:8080/redis")])]),e._v(" "),t("p",[e._v("容器终端查看数据是否一致")]),e._v(" "),t("h3",{attrs:{id:"更多相关命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更多相关命令"}},[e._v("#")]),e._v(" 更多相关命令")]),e._v(" "),t("p",[t("code",[e._v("docker ps")]),e._v(" 查看当前运行中的容器")]),e._v(" "),t("p",[t("code",[e._v("docker images")]),e._v(" 查看镜像列表")]),e._v(" "),t("p",[t("code",[e._v("docker rm container-id")]),e._v(" 删除指定 id 的容器")]),e._v(" "),t("p",[t("code",[e._v("docker stop/start container-id")]),e._v(" 停止/启动指定 id 的容器")]),e._v(" "),t("p",[t("code",[e._v("docker rmi image-id")]),e._v(" 删除指定 id 的镜像")]),e._v(" "),t("p",[t("code",[e._v("docker volume ls")]),e._v(" 查看 volume 列表")]),e._v(" "),t("p",[t("code",[e._v("docker network ls")]),e._v(" 查看网络列表")])])}),[],!1,null,null,null);t.default=a.exports}}]);
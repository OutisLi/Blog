(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{475:function(v,a,t){"use strict";t.r(a);var o=t(14),_=Object(o.a)({},(function(){var v=this,a=v._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("h1",{attrs:{id:"_08-ğŸ¯-å¤‡ä»½å’Œè¿ç§»æ•°æ®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_08-ğŸ¯-å¤‡ä»½å’Œè¿ç§»æ•°æ®"}},[v._v("#")]),v._v(" 08. ğŸ¯ å¤‡ä»½å’Œè¿ç§»æ•°æ®")]),v._v(" "),a("h3",{attrs:{id:"è¿ç§»æ–¹å¼ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿ç§»æ–¹å¼ä»‹ç»"}},[v._v("#")]),v._v(" è¿ç§»æ–¹å¼ä»‹ç»")]),v._v(" "),a("p",[v._v("å®¹å™¨ä¸­çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ç”¨æŒ‚è½½ç›®å½•ï¼Œåˆ é™¤å®¹å™¨åå°±ä¼šä¸¢å¤±æ•°æ®ã€‚")]),v._v(" "),a("p",[v._v("å‰é¢æˆ‘ä»¬å·²ç»è®²è§£äº†å¦‚ä½• "),a("a",{attrs:{href:"doc:kze7f0ZR"}},[v._v("æŒ‚è½½ç›®å½•")])]),v._v(" "),a("p",[v._v("å¦‚æœä½ æ˜¯ç”¨"),a("code",[v._v("bind mount")]),v._v("ç›´æ¥æŠŠå®¿ä¸»æœºçš„ç›®å½•æŒ‚è¿›å»å®¹å™¨ï¼Œé‚£è¿ç§»æ•°æ®å¾ˆæ–¹ä¾¿ï¼Œç›´æ¥å¤åˆ¶ç›®å½•å°±å¥½äº†")]),v._v(" "),a("p",[v._v("å¦‚æœä½ æ˜¯ç”¨"),a("code",[v._v("volume")]),v._v("æ–¹å¼æŒ‚è½½çš„ï¼Œç”±äºæ•°æ®æ˜¯ç”±å®¹å™¨åˆ›å»ºå’Œç®¡ç†çš„ï¼Œéœ€è¦ç”¨ç‰¹æ®Šçš„æ–¹å¼æŠŠæ•°æ®å¼„å‡ºæ¥ã€‚")]),v._v(" "),a("blockquote",[a("p",[v._v("æœ¬æ–‡æ¡£è¯¾ä»¶é…å¥— è§†é¢‘æ•™ç¨‹")])]),v._v(" "),a("h3",{attrs:{id:"å¤‡ä»½å’Œå¯¼å…¥-volume-çš„æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤‡ä»½å’Œå¯¼å…¥-volume-çš„æµç¨‹"}},[v._v("#")]),v._v(" å¤‡ä»½å’Œå¯¼å…¥ Volume çš„æµç¨‹")]),v._v(" "),a("p",[v._v("å¤‡ä»½ï¼š")]),v._v(" "),a("ul",[a("li",[v._v("è¿è¡Œä¸€ä¸ª ubuntu çš„å®¹å™¨ï¼ŒæŒ‚è½½éœ€è¦å¤‡ä»½çš„ volume åˆ°å®¹å™¨ï¼Œå¹¶ä¸”æŒ‚è½½å®¿ä¸»æœºç›®å½•åˆ°å®¹å™¨é‡Œçš„å¤‡ä»½ç›®å½•ã€‚")]),v._v(" "),a("li",[v._v("è¿è¡Œ tar å‘½ä»¤æŠŠæ•°æ®å‹ç¼©ä¸ºä¸€ä¸ªæ–‡ä»¶")]),v._v(" "),a("li",[v._v("æŠŠå¤‡ä»½æ–‡ä»¶å¤åˆ¶åˆ°éœ€è¦å¯¼å…¥çš„æœºå™¨")])]),v._v(" "),a("p",[v._v("å¯¼å…¥ï¼š")]),v._v(" "),a("ul",[a("li",[v._v("è¿è¡Œ ubuntu å®¹å™¨ï¼ŒæŒ‚è½½å®¹å™¨çš„ volumeï¼Œå¹¶ä¸”æŒ‚è½½å®¿ä¸»æœºå¤‡ä»½æ–‡ä»¶æ‰€åœ¨ç›®å½•åˆ°å®¹å™¨é‡Œ")]),v._v(" "),a("li",[v._v("è¿è¡Œ tar å‘½ä»¤è§£å‹å¤‡ä»½æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•")])]),v._v(" "),a("h3",{attrs:{id:"å¤‡ä»½-mongodb-æ•°æ®æ¼”ç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤‡ä»½-mongodb-æ•°æ®æ¼”ç¤º"}},[v._v("#")]),v._v(" å¤‡ä»½ MongoDB æ•°æ®æ¼”ç¤º")]),v._v(" "),a("ul",[a("li",[a("p",[v._v("è¿è¡Œä¸€ä¸ª mongodbï¼Œåˆ›å»ºä¸€ä¸ªåå«"),a("code",[v._v("mongo-data")]),v._v("çš„ volume æŒ‡å‘å®¹å™¨çš„ /data ç›®å½•")]),v._v(" "),a("p",[a("code",[v._v("docker run -p 27018:27017 --name mongo -v mongo-data:/data -d mongo:4.4")])])]),v._v(" "),a("li",[a("p",[v._v("è¿è¡Œä¸€ä¸ª Ubuntu çš„å®¹å™¨ï¼ŒæŒ‚è½½"),a("code",[v._v("mongo")]),v._v("å®¹å™¨çš„æ‰€æœ‰ volumeï¼Œæ˜ å°„å®¿ä¸»æœºçš„ backup ç›®å½•åˆ°å®¹å™¨é‡Œé¢çš„ /backup ç›®å½•ï¼Œç„¶åè¿è¡Œ tar å‘½ä»¤æŠŠæ•°æ®å‹ç¼©æ‰“åŒ…")]),v._v(" "),a("p",[a("code",[v._v("docker run --rm --volumes-from mongo -v d:/backup:/backup ubuntu tar cvf /backup/backup.tar /data/")])])])]),v._v(" "),a("p",[v._v("æœ€åä½ å°±å¯ä»¥æ‹¿ç€è¿™ä¸ª backup.tar æ–‡ä»¶å»å…¶ä»–åœ°æ–¹å¯¼å…¥äº†ã€‚")]),v._v(" "),a("h3",{attrs:{id:"æ¢å¤-volume-æ•°æ®æ¼”ç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¢å¤-volume-æ•°æ®æ¼”ç¤º"}},[v._v("#")]),v._v(" æ¢å¤ Volume æ•°æ®æ¼”ç¤º")]),v._v(" "),a("ul",[a("li",[v._v("è¿è¡Œä¸€ä¸ª ubuntu å®¹å™¨ï¼ŒæŒ‚è½½ mongo å®¹å™¨çš„æ‰€æœ‰ volumesï¼Œç„¶åè¯»å– /backup ç›®å½•ä¸­çš„å¤‡ä»½æ–‡ä»¶ï¼Œè§£å‹åˆ° /data/ ç›®å½•"),a("code",[v._v('docker run --rm --volumes-from mongo -v d:/backup:/backup ubuntu bash -c "cd /data/ && tar xvf /backup/backup.tar --strip 1"')])])]),v._v(" "),a("blockquote",[a("p",[v._v("æ³¨æ„ï¼Œvolumes-from æŒ‡å®šçš„æ˜¯å®¹å™¨åå­—")]),v._v(" "),a("p",[v._v("strip 1 è¡¨ç¤ºè§£å‹æ—¶å»æ‰å‰é¢1å±‚ç›®å½•ï¼Œå› ä¸ºå‹ç¼©æ—¶åŒ…å«äº†ç»å¯¹è·¯å¾„")])]),v._v(" "),a("hr")])}),[],!1,null,null,null);a.default=_.exports}}]);